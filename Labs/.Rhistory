sp_cov <- (sum((salary - salary_mean)*(points - points_mean)))/(n-1)
sp_cov
sp_cor <- sp_cov / (salary_sd * points_sd)
sp_cor
cov(points, salary)
cor(points, salary)
#creating the necesary variables for our calculations
n <- length(player)
#points variables
points_mean <- 1/n * sum(points)
round(points_mean, 2)
points_var <- sum((points - points_mean)^2)/(n-1)
points_sd <- sqrt(points_var)
#salary variables
salary_mean <- 1/n * sum(salary_mil)
round(salary_mil, 2)
salary_var <- sum((salary - salary_mean)^2)/(n-1)
salary_sd <- sqrt(salary_var)
sp_cov <- (sum((salary - salary_mean)*(points - points_mean)))/(n-1)
sp_cov
sp_cor <- sp_cov / (salary_sd * points_sd)
sp_cor
cov(points, salary)
cor(points, salary)
salary_sd
sd(salary)
#creating the necesary variables for our calculations
n <- length(player)
#points variables
points_mean <- 1/n * sum(points)
round(points_mean, 2)
points_var <- sum((points - points_mean)^2)/(n-1)
points_sd <- sqrt(points_var)
#salary variables
salary_mean <- 1/n * sum(salary_mil)
round(salary_mil, 2)
salary_var <- sum((salary - salary_mean)^2)/(n-1)
salary_sd <- sqrt(salary_var)
sp_cov <- (sum((salary - salary_mean)*(points - points_mean)))/(n-1)
sp_cov
sp_cor <- sp_cov / (salary_sd * points_sd)
sp_cor
cov(points, salary)
cor(points, salary)
salary_var
var(salary)
#creating the necesary variables for our calculations
n <- length(player)
#points variables
points_mean <- 1/n * sum(points)
round(points_mean, 2)
points_var <- sum((points - points_mean)^2)/(n-1)
points_sd <- sqrt(points_var)
#salary variables
salary_mean <- 1/n * sum(salary_mil)
round(salary_mil, 2)
salary_var <- sum((salary - salary_mean)^2)/(n-1)
salary_sd <- sqrt(salary_var)
sp_cov <- (sum((salary - salary_mean)*(points - points_mean)))/(n-1)
sp_cov
sp_cor <- sp_cov / (salary_sd * points_sd)
sp_cor
cov(points, salary_mil)
cor(points, salary_mil)
salary_var
var(salary_mil)
slope <- cor(points, salary_mil) * sd(points)/sd(salary_mil)
intercept<- salary_mean - points_mean * slope
y <- intercept + slope * salary_mil
slope <- cor(points, salary_mil) * sd(points)/sd(salary_mil)
intercept<- salary_mean - points_mean * slope
y <- intercept + slope * salary_mil
summary(y)
slope <- cor(points, salary_mil) * sd(points)/sd(salary_mil)
slope
intercept<- salary_mean - points_mean * slope
intercept
y <- intercept + slope * salary_mil
summary(y)
slope <- cor(points, salary_mil) * sd(points)/sd(salary_mil)
slope
intercept<- salary_mean - points_mean * slope
intercept
y <- intercept + slope * salary_mil
plot(y)
summary(y)
slope <- cor(points, salary_mil) * sd(points)/sd(salary_mil)
slope
intercept<- salary_mean - points_mean * slope
intercept
y <- intercept + slope * salary_mil
plot(points. salary_mil)
slope <- cor(points, salary_mil) * sd(points)/sd(salary_mil)
slope
intercept<- salary_mean - points_mean * slope
intercept
y <- intercept + slope * salary_mil
plot(points, salary_mil)
summary(y)
slope <- cor(points, salary_mil) * sd(points)/sd(salary_mil)
slope
intercept<- salary_mean - points_mean * slope
intercept
y <- intercept + slope * salary_mil
plot(points, salary_mil, abline(intercept, slope))
summary(y)
slope <- cor(points, salary_mil) * sd(points)/sd(salary_mil)
slope
intercept<- salary_mean - points_mean * slope
intercept
y <- intercept + slope * salary_mil
plot(points, salary_mil, abline(0, slope))
summary(y)
slope <- cor(points, salary) * sd(points)/sd(salary)
slope
intercept<- salary_mean - points_mean * slope
intercept
y <- intercept + slope * salary_mil
plot(points, salary, abline(intercept, slope))
summary(y)
#creating the necesary variables for our calculations
n <- length(player)
#points variables
points_mean <- 1/n * sum(points)
round(points_mean, 2)
points_var <- sum((points - points_mean)^2)/(n-1)
points_sd <- sqrt(points_var)
#salary variables
salary_mean <- 1/n * sum(salary_mil)
round(salary_mean, 2)
salary_var <- sum((salary_mil - salary_mean)^2)/(n-1)
salary_sd <- sqrt(salary_var)
sp_cov <- (sum((salary_mil - salary_mean)*(points - points_mean)))/(n-1)
sp_cov
sp_cor <- sp_cov / (salary_sd * points_sd)
sp_cor
cov(points, salary_mil)
cor(points, salary_mil)
slope <- sp_cor * points_sd/salary_sd
slope
intercept<- salary_mean - (points_mean * slope)
intercept
y <- intercept + (slope * salary_mil)
summary(y)
slope <- sp_cor * salary_sd/points_sd
slope
intercept<- salary_mean - (points_mean * slope)
intercept
y <- intercept + (slope * salary_mil)
summary(y)
slope <- sp_cor * salary_sd/points_sd
slope
intercept<- salary_mean - (points_mean * slope)
intercept
y <- intercept + (slope * salary_mil)
plot(points, salary_mil, abline(slope, intercept))
summary(y)
slope <- sp_cor * salary_sd/points_sd
slope
intercept<- salary_mean - (points_mean * slope)
intercept
y <- intercept + (slope * salary_mil)
plot(points, salary, abline(slope, intercept))
summary(y)
slope <- sp_cor * salary_sd/points_sd
slope
intercept<- salary_mean - (points_mean * slope)
intercept
y <- intercept + (slope * salary_mil)
summary(y)
slope <- sp_cor * salary_sd/points_sd
slope
intercept<- salary_mean - (points_mean * slope)
intercept
y <- intercept + (slope * points)
summary(y)
slope <- sp_cor * salary_sd/points_sd
slope
intercept<- salary_mean - (points_mean * slope)
intercept
y <- intercept + (slope * points)
summary(y)
plot(points, salary_mil, abline(slope, intercept))
plot (salary, points)
plot (salary_mil, points, abline(intercept, slope))
plot (points, salary_mil, abline(intercept, slope))
plot (points, salary_mil, abline(intercept, slope), lines(lowess()))
plot (points, salary_mil, abline(intercept, slope), lines(lowess(points,salary_mil), col="blue"))
plot (points, salary_mil, abline(intercept, slope))
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue")
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue", text = "Lowess")
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue", text = "Lowess")
text(locator(), labels = c("Lowess", "Regression)"))
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue", text = "Lowess")
text(locator(), labels = c("Lowess", "Regression"")))
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue", text = "Lowess")
text(locator(), labels = c("Lowess", "Regression"))
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue", text = "Lowess")
text(labels = c("Lowess", "Regression"))
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue", text = "Lowess")
text(locator(), labels = c("Lowess", "Regression"))
plot(experience_int, salary_mil)
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue")
text(locator(), labels = c("Lowess", "Regression"))
plot (points, salary_mil, abline(intercept, slope))
lines(lowess(points,salary_mil), col="blue")
plot(experience_int, salary_mil)
lines(lowess(experience_int,salary_mil), col="blue", text = "Lowess")
plot(experience_int, salary_mil)
lines(lowess(experience_int,salary_mil), col="blue", text = "Lowess")
install.packages("scatterplot3d")
scatterplot3d()
plot(experience_int, salary_mil)
lines(lowess(experience_int,salary_mil), col="blue", text = "Lowess")
install.packages("scatterplot3d")
scatterplot3d(points, experience_int, salary_mil)
install.packages("scatterplot3d", lib="/data/Rpackages/")
plot(experience_int, salary_mil)
lines(lowess(experience_int,salary_mil), col="blue", text = "Lowess")
scatterplot3d(points, experience_int, salary_mil)
load(scatterplot3d)
plot(experience_int, salary_mil)
lines(lowess(experience_int,salary_mil), col="blue", text = "Lowess")
# scatterplot3d(points, experience_int, salary_mil)
boxplot(salary_mil, position)
summarise(
group_by(dat, team),
median_points3 = median(points3)
)
# some stats for salary (dplyr)
summarise(
dat,
min = min(salary),
median = median(salary),
avg = mean(salary),
max = max(salary)
)
gsw_mpg <- select(dat, player, experience, minutes, games, team)
# don't forget to load the packages
library(dplyr)
library(ggplot2)
# don't forget to load the packages
library(dplyr)
library(ggplot2)
dat <- read.csv('../data/nba2017-players.csv', stringsAsFactors = FALSE)
# download RData file into your working directory
github <- "https://github.com/ucb-stat133/stat133-fall-2017/raw/master/"
csv <- "data/nba2017-players.csv"
download.file(url = paste0(github, csv), destfile = 'nba2017-players.csv')
# with "base" read.csv()
dat <- read.csv('nba2017-players.csv', stringsAsFactors = FALSE)
# with "readr" read_csv()
#dat <- read_csv('nba2017-players.csv')
# scatterplot by position
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = position), alpha = 0.7) +
facet_grid(~ position) +
geom_smooth(method = loess)
# scatterplot by position
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = position), alpha = 0.7) +
facet_grid(position ~ .) +
geom_smooth(method = loess)
# scatterplot (option 1)
ggplot(data = dat) +
geom_point(aes(x = points, y = salary))
# scatterplot (option 2)
ggplot(dat, aes(x = points, y = salary)) +
geom_point()
# scatterplot (option 2)
ggplot(dat, aes(x = points, y = salary))
# scatterplot (option 2)
ggplot(dat, aes(x = points, y = salary)) +
geom_point()
# colored scatterplot
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = position))
# sized and colored scatterplot
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = position, size = points3))
# sized and colored scatterplot
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = position, size = points3), alpha = 0.7)
ggplot(gsw, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = points3))
ggplot(data = gsw, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = points3))
# don't forget to load the packages
library(dplyr)
library(ggplot2)
# download RData file into your working directory
github <- "https://github.com/ucb-stat133/stat133-fall-2017/raw/master/"
csv <- "data/nba2017-players.csv"
download.file(url = paste0(github, csv), destfile = 'nba2017-players.csv')
# with "base" read.csv()
dat <- read.csv('nba2017-players.csv', stringsAsFactors = FALSE)
# with "readr" read_csv()
#dat <- read_csv('nba2017-players.csv')
# first three rows
three_rows <- slice(dat, 1:3)
three_rows
# subset rows given a condition
# (height greater than 85 inches)
gt_85 <- filter(dat, height > 85)
gt_85
# columns by name
player_height <- select(dat, player, height)
slice(dat, 1:5)
slice(dat, seq(1,50,5))
slice(dat, (nrow(dat)-4):nrow(dat))
filter(dat, height < 70)
filter(dat, team == 'GSW')
filter(dat, (team == 'GSW' & position == 'C'))
# creating a small data frame step by step
gsw <- filter(dat, team == 'GSW')
gsw <- select(gsw, player, height, weight)
gsw <- slice(gsw, c(4, 8, 10, 14, 15))
gsw
mutate(gsw, height / weight)
mutate(gsw, ht_wt = height / weight)
gsw2 <- mutate(gsw, ht_m = height * 0.0254, wt_kg = weight * 0.4536)
gsw2
# order rows by height (increasingly)
arrange(gsw, height)
# order rows by height (decreasingly)
arrange(gsw, desc(height))
# order rows by height, and then weight
arrange(gsw, height, weight)
product <- mutate(gsw, ht_wt = height * weight)
product
gsw3 <- mutate(gsw, log_height = log10(height), log_weight = log10(weight))
gsw3
arrange(filter(dat, height < 71), height)
slice(arrange(select(dat, player, team, salary), desc(salary)), 1:5)
slice(arrange(select(dat, player, team, points3), desc(points3)), 1:10)
gsw_mpg <- select(dat, player, experience, minutes, games, team)
gsw_mpg <- filter (gsw_mpg, team == 'GSW')
gsw_mpg <- mutate(gsw_mpg, min_per_game = minutes / games)
gsw_mpg <- arrange(gsw_mpg, desc(min_per_game))
gsw_mpg <- select(gsw_mpg, player, experience, min_per_game)
gsw_mpg
# average salary of NBA players
summarise(dat, avg_salary = mean(salary))
mean(dat$salary)
# some stats for salary (dplyr)
summarise(
dat,
min = min(salary),
median = median(salary),
avg = mean(salary),
max = max(salary)
)
# some stats for salary (base R)
c(min = min(dat$salary),
median = median(dat$salary),
median = mean(dat$salary),
max = max(dat$salary))
# average salary, grouped by team
summarise(
group_by(dat, team),
avg_salary = mean(salary)
)
# average salary, grouped by position
summarise(
group_by(dat, position),
avg_salary = mean(salary)
)
arrange(
summarise(
group_by(dat, position),
avg_height = mean(height),
avg_weight = mean(weight)),
desc(avg_height)
)
summarize(dat, max_height = max(height))
summarize(dat, sd(points3))
summarise(
group_by(dat, team),
median_points3 = median(points3)
)
slice(arrange(summarize(group_by(dat, team), mean_points3 = mean(points3)), desc(mean_points3)), 26:30)
PF_age <- filter(dat, position == 'PF' & (experience == 5 | experience == 10))
mean(PF_age$age)
sd(PF_age$age)
# scatterplot (option 1)
ggplot(data = dat) +
geom_point(aes(x = points, y = salary))
# colored scatterplot
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = position))
# sized and colored scatterplot
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = position, size = points3))
# sized and colored scatterplot
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = position, size = points3), alpha = 0.7)
ggplot(gsw, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = points3))
ggplot(gsw, aes(x = height, y = weight)) +
geom_point()
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point()
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point() + geom_text()
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point() + geom_text(inherit.aes = TRUE)
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point() + geom_text(label_value(player))
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point() + geom_text(aes(label_value(player))
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point() + geom_text(aes(label = player))
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point() + geom_text(aes(label = player))+
geom_point(aes(color = position, size = salary)
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point() + geom_text(aes(label = player)) +
geom_point(aes(color = position, size = salary)
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = salary + geom_text(aes(label = player))
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = salary)) + geom_text(aes(label = player))
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = salary))# + geom_text(aes(label = player))
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = salary)) + geom_text(aes(label = player))
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = salary)) + geom_label(player)
gsw4 <- filter(dat, team == 'GSW')
ggplot(gsw4, aes(x = height, y = weight)) +
geom_point(aes(color = position, size = salary)) + geom_label(aes(label = player))
ggplot()
gplot(gsw4, aes(x=values)) + geom_density()
gplot(dat, aes(x=salary)) + geom_density()
ggplot(dat, aes(x=salary)) + geom_density()
ggplot(dat, aes(x = points2)) + geom_histogram()
ggplot(dat, aes(x = points2)) + geom_histogram(stat_bin(bins = 50))
ggplot(dat, aes(x = points2)) + geom_histogram(stat_bin(aes(bins = 50)))
ggplot(dat, aes(x = points2)) + geom_histogram((aes(bins = 50)))
ggplot(dat, aes(x = points2)) + geom_histogram(binwidth = 50)
# scatterplot by position
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point() +
facet_wrap(~ position)
ggplot(dat, x = experience, y = position) +
geom_point() +
facet_wrap(~position)
ggplot(dat, aes(x = experience, y = position)) +
geom_point() +
facet_wrap(~position)
ggplot(dat, aes(x = experience, y = salary)) +
geom_point() +
facet_wrap(~position)
ggplot(dat, aes(x = experience, y = salary)) +
geom_point() +
facet_wrap(~team)
ggplot(dat, aes(x = age)) +
geom_density() +
facet_wrap(~team)
ggplot(dat, aes(x = height, y = weight)) +
facet_grid(~position)
ggplot(dat, aes(x = height, y = weight)) +
geom_point() +
facet_grid(~position)
# scatterplot by position
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes((color = team))) +
facet_wrap(~ position)
# scatterplot by position
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point() +
facet_wrap(~ position)
# scatterplot by position
ggplot(data = dat, aes(x = points, y = salary)) +
geom_point(aes(color = team)) +
facet_wrap(~ position)
ggplot(dat, aes(x = experience, y = salary)) +
geom_point(aes(color = team, size = position)) +
facet_wrap(~position)
ggplot(dat, aes(x = experience, y = salary)) +
geom_point(aes(color = team)) +
facet_wrap(~position)
ggplot(dat, aes(x = height, y = weight)) +
geom_point(aes(color = size)) +
facet_grid(~position)
ggplot(dat, aes(x = height, y = weight)) +
geom_point(aes(color = team)) +
facet_grid(~position)
ggplot(dat, aes(x = height, y = weight)) +
geom_density2d() +
facet_wrap(~position)
